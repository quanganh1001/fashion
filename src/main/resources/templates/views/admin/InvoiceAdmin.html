<!doctype html>
<html lang="en">

<head th:include="~{admin/component/head::head}"></head>

<body>
<div class="ui-menu-item-wrapper">
    <div th:include="~{admin/component/Menu::menu}"></div>

    <div class="container p-4">
        <h2>DANH SÁCH ĐƠN HÀNG</h2>
        <div class="col-2 mt-2 mb-2" th:if="${#strings.equals(account.role.name(), 'ROLE_MANAGER')}">
            <span>Chọn người lên đơn</span>
            <select id="changeAccount" class="form-control">
                <option value=-1 th:selected="${selectAccount == -1}">Tất cả</option>
                <option value=0 th:selected="${selectAccount == 0}">Hệ thống</option>
                <option th:each="a : ${accountResponses}"
                        th:value="${a.accountId}"
                        th:text="${a.userName}"
                        th:selected="${a.accountId == selectAccount}">
                </option>
            </select>
        </div>
        <div class=" d-flex flex-wrap justify-content-start">
            <a th:href="@{/admin/invoice/filter/-1?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="-1"
               class=" m-3 p-2 btn-secondary btn col-2">
                <div class="info-box d-flex p-2">
                    <span class="info-box-icon"><i class="fa-2xl fa-solid fa-file-invoice-dollar"
                                                   style="color: #000000;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Tất cả đơn hàng</div>
                    </div>
                </div>
            </a>

            <a th:href="@{/admin/invoice/filter/0?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="0" class="filter col-2 m-3 p-2 btn-secondary btn">
                <div class="info-box d-flex p-2 ">
                    <span class="info-box-icon"><i class="fa-2xl fa-solid fa-xmark" style="color: #ff0000;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Đơn đã hủy</div>
                    </div>
                </div>
            </a>

            <a th:href="@{/admin/invoice/filter/1?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="1" class="filter col-2 m-3 p-2 btn-secondary btn">
                <div class="info-box d-flex p-2">
                    <span class="info-box-icon"><i class="fa-2xl fa-solid fa-cart-plus"
                                                   style="color: #005eff;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Đơn mới</div>
                    </div>
                </div>
            </a>

            <a th:href="@{/admin/invoice/filter/2?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="2" class="filter col-2 m-3 p-2 btn-secondary btn">
                <div class="info-box d-flex p-2">
                    <span class="info-box-icon"><i class="fa-2xl fa-solid fa-hourglass-half" style="color: yellow;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Đang xử lý</div>
                    </div>
                </div>
            </a>

            <a th:href="@{/admin/invoice/filter/3?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="3" class="filter col-2 m-3 p-2 btn-secondary btn">
                <div class="info-box d-flex p-2">
                    <span class="info-box-icon"><i class="fa-2xl fa-solid fa-check"
                                                   style="color: #00800f;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Đơn đã lên</div>
                    </div>
                </div>
            </a>

            <a th:href="@{/admin/invoice/filter/4?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="4" class="filter col-2 m-3 p-2 btn-secondary btn">
                <div class="info-box d-flex p-2">
                    <span
                            class="info-box-icon"><i class="fa-2xl fa-solid fa-truck-fast" style="color: #ffc800;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Đơn đang giao</div>
                    </div>
                </div>
            </a>

            <a th:href="@{/admin/invoice/filter/5?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="5" class="filter col-2 m-3 p-2 btn-secondary btn">
                <div class="info-box d-flex p-2">
                    <span class="info-box-icon"><i class="fa-2xl fa-solid fa-circle-check"
                                                   style="color: #0045bd;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Đơn thành công</div>
                    </div>
                </div>
            </a>

            <a th:href="@{/admin/invoice/filter/6?accountId=__${account.accountId}__&selectAccount=__${selectAccount}__}"
               id="6" class="filter col-2 m-3 p-2 btn-secondary btn">
                <div class="info-box d-flex p-2">
                    <span
                            class="info-box-icon"><i class="fa-2xl fa-solid fa-ban"
                                                     style="color: #ff0000;"></i></span>
                    <div class="info-box-content">
                        <div class="info-box-text">Đơn hoàn</div>
                    </div>
                </div>
            </a>
        </div>

        <div id="list-invoice" th:include="~{admin/component/ListInvoice::ListInvoice}">
        </div>
    </div>
</div>
<script th:inline="javascript">
    $(document).ready(() => {
        if ([[${filterStatus}]] === -1) {
            $("#-1").removeClass("btn-secondary");
            $("#-1").addClass("btn-primary");
        } else if ([[${filterStatus}]] === 0) {
            $("#0").removeClass("btn-secondary");
            $("#0").addClass("btn-primary");
        } else if ([[${filterStatus}]] === 1) {
            $("#1").removeClass("btn-secondary");
            $("#1").addClass("btn-primary");
        } else if ([[${filterStatus}]] === 2) {
            $("#2").removeClass("btn-secondary");
            $("#2").addClass("btn-primary");
        } else if ([[${filterStatus}]] === 3) {
            $("#3").removeClass("btn-secondary");
            $("#3").addClass("btn-primary");
        } else if ([[${filterStatus}]] === 4) {
            $("#4").removeClass("btn-secondary");
            $("#4").addClass("btn-primary");
        } else if ([[${filterStatus}]] === 5) {
            $("#5").removeClass("btn-secondary");
            $("#5").addClass("btn-primary");
        } else if ([[${filterStatus}]] === 6) {
            $("#6").removeClass("btn-secondary");
            $("#6").addClass("btn-primary");
        }

        $("#btnAddInvoice").click(() => {
            window.location.href = "/admin/invoice/add";
        })

        $("#changeAccount").change(() => {
            var changeAccount = $("#changeAccount").val();
            window.location.href = "/admin/invoice/filter/" + [[${filterStatus}]] + "?accountId=" + [[${account.accountId}]] + "&selectAccount=" + changeAccount
        })
    })
</script>

</body>
</html>